diff -Naur glibc-2.3.5/sysdeps/unix/sysv/linux/dl-execstack.c glibc-2.3.5-pax-support/sysdeps/unix/sysv/linux/dl-execstack.c
--- glibc-2.3.5/sysdeps/unix/sysv/linux/dl-execstack.c	2004-09-20 21:30:12.000000000 -0500
+++ glibc-2.3.5-pax-support/sysdeps/unix/sysv/linux/dl-execstack.c	2005-04-28 00:22:43.000000000 -0500
@@ -56,11 +56,17 @@
 					__stack_prot) == 0, 1))
 	goto return_success;
 # if __ASSUME_PROT_GROWSUPDOWN == 0
-      if (errno == EINVAL)
+      if (errno == EINVAL) {
 	no_growsupdown = true;
-      else
+      } else {
+#  endif
+       if (errno == EACCES)            /* PAX is enabled */
+         return 0;
+       else
+         return errno;
+#  if __ASSUME_PROT_GROWSUPDOWN == 0
+      }
 # endif
-	return errno;
     }
 #endif
 
@@ -84,9 +90,11 @@
 	page -= size;
       else
 	{
-	  if (errno != ENOMEM)	/* Unexpected failure mode.  */
+         if (errno == EACCES) {        /* PAX is enabled */
+           return 0;
+         } else if (errno != ENOMEM) { /* Unexpected failure mode.  */
 	    return errno;
-
+         }
 	  if (size == GLRO(dl_pagesize))
 	    /* We just tried to mprotect the top hole page and failed.
 	       We are done.  */
@@ -107,10 +115,12 @@
 	page += size;
       else
 	{
-	  if (errno != ENOMEM)	/* Unexpected failure mode.  */
+         if (errno == EACCES) {        /* PAX is enabled */
+           return 0;
+         } else if (errno != ENOMEM) { /* Unexpected failure mode.  */
 	    return errno;
-
-	  if (size == GLRO(dl_pagesize))
+         }
+ 	  if (size == GLRO(dl_pagesize))
 	    /* We just tried to mprotect the lowest hole page and failed.
 	       We are done.  */
 	    break;
