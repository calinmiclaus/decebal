NAME=transcode
VERSION=0.6.14
ARCH=i686
RELEASE=1
URL="http://www.transcoding.org/"
DESC="A video stream processing tool."
GROUP=multimedia
LICENSE="GPLv2"
SIZE="2553K"
HUSE="static sse sse2 netstream"

SOURCES="http://www.jakemsr.com/transcode/transcode-0.6.14.tar.gz"

RUNTIME="lame libogg libvorbis libtheora libdvdread libdv lzo liba52 mjpegtools
         libsdl gtk libfame imagemagick >=libjpeg-6b"

build() {
  cd $SRC/$NAME-$VERSION
  
  use static && OPTS="--enable-static"
  use sse && OPTS="$OPTS --enable-sse" || OPTS="$OPTS --disable-sse"
  use sse2 && OPTS="$OPTS --enable-sse2" || OPTS="$OPTS --disable-sse2"
  use netstream && OPTS="$OPTS --enable-netstream"
  
  ./configure --prefix=/usr \
              --enable-v4l \
	      --enable-lame \
	      --enable-ogg \
	      --enable-vorbis \
	      --enable-theora \
	      --enable-libdvdread \
	      --enable-libdv \
	      --enable-lzo \
	      --enable-a52 \
	      --enable-libxml2 \
	      --enable-mjpegtools \
	      --enable-sdl \
	      --enable-gtk \
	      --enable-libfame \
	      --enable-imagemagick \
	      --enable-libjpeg \
	      $OPTS
  make
  make DESTDIR=$PKG install
  
  install_docs AUTHORS COPYING ChangeLog INSTALL \
    README* TODO
}
