post_install() {
  schemas="/etc/opt/gnome/gconf/schemas/clock.schemas
    /etc/opt/gnome/gconf/schemas/fish.schemas
    /etc/opt/gnome/gconf/schemas/panel-compatibility.schemas
    /etc/opt/gnome/gconf/schemas/panel-general.schemas
    /etc/opt/gnome/gconf/schemas/panel-global.schemas
    /etc/opt/gnome/gconf/schemas/panel-object.schemas
    /etc/opt/gnome/gconf/schemas/panel-toplevel.schemas
    /etc/opt/gnome/gconf/schemas/window-list.schemas
    /etc/opt/gnome/gconf/schemas/workspace-switcher.schemas"
  
  for schema in $schemas
  do
    GCONF_CONFIG_SOURCE=`/opt/gnome/bin/gconftool-2 --get-default-source` /opt/gnome/bin/gconftool-2 --makefile-install-rule "$schema" > /dev/null 2>&1
  done
  /opt/gnome/bin/gconftool-2 --direct --config-source `/opt/gnome/bin/gconftool-2 --get-default-source` --load /etc/opt/gnome/gconf/schemas/panel-default-setup.entries > /dev/null 2>&1
  /bin/killall -HUP gconftool-2 >/dev/null 2>&1
  /usr/bin/scrollkeeper-update -p /var/lib/scrollkeeper > /dev/null 2>&1
  /usr/bin/update-desktop-database > /dev/null 2>&1
}
    
post_upgrade() {
  schemas="/etc/opt/gnome/gconf/schemas/clock.schemas
    /etc/opt/gnome/gconf/schemas/fish.schemas
    /etc/opt/gnome/gconf/schemas/panel-compatibility.schemas
    /etc/opt/gnome/gconf/schemas/panel-general.schemas
    /etc/opt/gnome/gconf/schemas/panel-global.schemas
    /etc/opt/gnome/gconf/schemas/panel-object.schemas
    /etc/opt/gnome/gconf/schemas/panel-toplevel.schemas
    /etc/opt/gnome/gconf/schemas/window-list.schemas
    /etc/opt/gnome/gconf/schemas/workspace-switcher.schemas"
  
  for schema in $schemas
  do
    GCONF_CONFIG_SOURCE=`/opt/gnome/bin/gconftool-2 --get-default-source` /opt/gnome/bin/gconftool-2 --makefile-install-rule "$schema" > /dev/null 2>&1
  done
  /opt/gnome/bin/gconftool-2 --direct --config-source `/opt/gnome/bin/gconftool-2 --get-default-source` --load /etc/opt/gnome/gconf/schemas/panel-default-setup.entries > /dev/null 2>&1
  /bin/killall -HUP gconftool-2 >/dev/null 2>&1
  /usr/bin/scrollkeeper-update -p /var/lib/scrollkeeper > /dev/null 2>&1
  /usr/bin/update-desktop-database > /dev/null 2>&1
}

pre_remove() {
  schemas="/etc/opt/gnome/gconf/schemas/clock.schemas
    /etc/opt/gnome/gconf/schemas/fish.schemas
    /etc/opt/gnome/gconf/schemas/panel-compatibility.schemas
    /etc/opt/gnome/gconf/schemas/panel-general.schemas
    /etc/opt/gnome/gconf/schemas/panel-global.schemas
    /etc/opt/gnome/gconf/schemas/panel-object.schemas
    /etc/opt/gnome/gconf/schemas/panel-toplevel.schemas
    /etc/opt/gnome/gconf/schemas/window-list.schemas
    /etc/opt/gnome/gconf/schemas/workspace-switcher.schemas"
  
  for schema in $schemas
  do
    GCONF_CONFIG_SOURCE=`/opt/gnome/bin/gconftool-2 --get-default-source` /opt/gnome/bin/gconftool-2 --makefile-uninstall-rule "$schema" > /dev/null 2>&1
  done
  /opt/gnome/bin/gconftool-2 --direct --config-source `/opt/gnome/bin/gconftool-2 --get-default-source` --unload /etc/opt/gnome/gconf/schemas/panel-default-setup.entries > /dev/null 2>&1
  /bin/killall -HUP gconftool-2 >/dev/null 2>&1
}
    
post_remove() {
  /usr/bin/scrollkeeper-update -p /var/lib/scrollkeeper > /dev/null 2>&1
  /usr/bin/update-desktop-database > /dev/null 2>&1
}
