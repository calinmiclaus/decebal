NAME=e16
VERSION=0.16.7.1
ARCH=i686
RELEASE=1
GROUP=x11
URL="http://www.enlightenment.org/"
DESC="A fast, flexible, and very extensible Window Manager."
GROUP=enlightenment
LICENSE="BSDL"
SIZE="1749K"
HUSE="nls xrandr"

SOURCES="http://heanet.dl.sourceforge.net/sourceforge/enlightenment/enlightenment-0.16.7.1.tar.gz
         e16.sh e16.desktop xinitrc.e16"

RUNTIME="esound imlib2 perl xorg"

use nls && BUILDTIME="gettext"

build() {
  cd $SRC/$NAME-$VERSION
  
  use nls && OPTS="--enable-nls" || OPTS="--disable-nls"
  use xrandr && OPTS="$OPTS --enable-xrandr" || OPTS="$OPTS --disable-xrandr"
  
  ./configure --prefix=/opt/16 \
              --sysconfdir=/etc/opt/16 \
	      --localstatedir=/var/lib \
	      --mandir=/opt/e16/share/man \
	      --enable-fsstd \
	      --enable-sound \
	      $OPTS
  make
  make DESTDIR=$PKG install
  
  install -D -m 0644 ../e16.sh $PKG/etc/profile.d/enlightenment.sh
  install -D -m 0755 ../xinitrc.e16 $PKG/etc/X11/xinit/xinitrc.e16
  install -D -m 0755 ../e16.desktop $PKG/etc/X11/Sessions/e16.desktop
  
  install_docs ABOUT-NLS AUTHORS COMPLIANCE COPYING ChangeLog FAQ \
    INSTALL NEWS README
}
